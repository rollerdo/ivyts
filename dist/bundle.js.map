{"version":3,"sources":["webpack:///webpack/bootstrap 278079141557527a5829","webpack:///./src/lib/ivy.ts","webpack:///./src/lib/utils.ts","webpack:///./src/client.ts","webpack:///./src/lib/views.ts","webpack:///./src/essets/entity.ts"],"names":[],"mappings":"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","file":"./dist/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 278079141557527a5829","import { decamelCase, enableEvents } from \"./utils\";\nimport { View } from \"./views\";\n\nexport type forEachFunc = (mem, i) => void;\n\nabstract class IDFactory {\n    public abstract createID(): string;\n}\n\n// Creates a globally-unique ID. Slowest but should be unique among all objects in the known universe.\nclass GUIDFactory extends IDFactory {\n    public createID(): string {\n        const guid = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\n            const r = Math.random() * 16 | 0, v = c === \"x\" ? r : (r & 0x3 | 0x8);\n            return v.toString(16);\n        });\n        return guid;\n    }\n}\n\n// Creates a locally-unique ID. Faster than guidFactory but only guaranteed unique within the Ivy universe.\nclass LUIDFactory extends IDFactory {\n    private _seed = 1;\n\n    public createID(): string {\n        const _n = Number(new Date()) + this._seed++;\n        if (this._seed > 100000) {\n            this._seed = 1;\n        }\n        return _n.toString(16);\n    }\n}\n\nconst idFactory = new LUIDFactory();\nconst keyFactory = new LUIDFactory();\n\nexport abstract class $Property {\n\n    private _owner: $Complex;\n    private _views: ViewCollection;\n    private _caption: string;\n    private _clsName: string;\n    private _key: string;\n\n    protected constructor(owner?: $Complex) {\n        enableEvents(this);\n        this._key = keyFactory.createID();\n        this._owner = owner;\n    }\n\n    // Stub for enableEvents()\n    public fire(event) {\n        return this;\n    }\n\n    // Stub for enableEvents()\n    public on(type, method, parameters?) {\n        return this;\n    }\n\n    public get caption(): string {\n        if (!this._caption) {\n            this._caption = decamelCase(this.className).trim();\n        }\n        return this._caption;\n    }\n\n    public set caption(v: string) {\n        this._caption = v;\n    }\n\n    public get className() {\n        if (!this._clsName) {\n            this._clsName = this.constructor.name;\n        }\n        return this._clsName;\n    }\n\n    public set className(v: string) {\n        this._clsName = v;\n    }\n\n    public get displayValue(): string {\n        return this.className;\n    }\n\n    public get icon() {\n        return undefined;\n    }\n\n    public is(cls: any): boolean {\n        return this instanceof cls;\n    }\n\n    public get key() {\n        return this._key;\n    }\n\n    public get owner(): $Complex {\n        return this._owner;\n    }\n\n    public get root(): $Complex {\n        let _root: $Property;\n        if (this.is($Complex)) {\n            _root = this;\n        } else {\n            _root = this.owner;\n        }\n        while (_root) {\n            if (_root.owner) {\n                _root = _root.owner;\n            }\n        }\n        return _root as $Complex;\n    }\n\n    public fromJSON(json: string) {\n        const reader = new $JSONReader();\n        const obj = JSON.parse(json);\n        reader.read(this, obj);\n    }\n\n    public toJSON() {\n        const writer = new $JSONWriter();\n        return writer.write(this);\n    }\n\n    public get readOnly(): boolean {\n        return false;\n    }\n\n    public get views(): ViewCollection {\n        if (!this._views) {\n            this._views = this.createViewCollection();\n        }\n        return this._views;\n    }\n\n    // Override createViewCollection to add a more sophisticated collection object.\n    protected createViewCollection(): ViewCollection {\n        const _coll = $App.create<ViewCollection>(ViewCollection, this);\n\n        // When we add the view, we need to set the view's model property\n        _coll.on(\"itemAdded\", (event) => {\n            event.target.model = this;\n        });\n\n        // Set the removed model to undefined to be a good garbage collection citizen.\n        _coll.on(\"itemRemoved\", (event) => {\n            event.target.model = undefined;\n        });\n        return _coll;\n    }\n\n    // Iterates through all of the current views and refreshes them.\n    public refreshViews(): void {\n        // Get out fast if there are no views\n        if (this._views) {\n            if (this._views.count) {\n                this._views.forEach((v) => {\n                    v.refresh();\n                });\n            }\n        }\n    }\n}\n\nexport abstract class $Complex extends $Property {\n\n    protected constructor(owner?: $Complex) {\n        super(owner);\n    }\n\n    public abstract forEach(func: forEachFunc): void;\n\n    public abstract get count();\n\n    public toArray(): $Property[] {\n        const ar: $Property[] = [];\n        this.forEach((prop) => {\n            ar.push(prop);\n        });\n        return ar;\n    }\n}\n\nexport class $Collection extends $Complex {\n\n    private _count: number = 0;\n    protected _db: {} = {};\n    private _factories;\n\n    constructor(owner?: $Complex) {\n        super(owner);\n        this.on(\"itemAdded\", (event) => {\n            event.target.on(\"propertyChanging\", (ev) => {\n                this.fire(ev);\n            });\n            event.target.on(\"propertyChanged\", (ev) => {\n                this.fire(ev);\n            });\n        });\n\n        this.on(\"propertyChanged\", () => {\n            this.refreshViews();\n        });\n\n    }\n\n    public add(prop: $Property): void {\n        this._db[prop.key] = prop;\n        this._count++;\n        this.fire({ type: \"itemAdded\", target: prop });\n    }\n\n    public contains(key: any): boolean {\n        return this._db[key] ? true : false;\n    }\n\n    public get count(): number {\n        return this._count;\n    }\n\n    public createMember(className): $Property {\n        const cls = this.factories[className];\n        return cls.factory(this);\n    }\n\n    public get displayValue() {\n        return \"Count: \" + this.count;\n    }\n\n    public forEach(func: forEachFunc): void {\n        let n: string;\n        let i: number = 0;\n        for (n in this._db) {\n            func.call(this, this._db[n], i);\n            i++;\n        }\n    }\n\n    public get factories() {\n        return this._factories;\n    }\n\n    public set factories(facs) {\n        this._factories = facs;\n    }\n\n    public remove(prop: $Property): void {\n        // Todo: We need to determine if delete causes garbage collection issues.\n        delete (this._db[prop.key]);\n        this._count--;\n        this.fire({ type: \"itemRemoved\", target: prop });\n    }\n\n    public find(key: any): $Property {\n        return this._db[key];\n    }\n\n    public toArray(): $Property[] {\n        const ar: $Property[] = [];\n        this.forEach((prop) => {\n            ar.push(prop);\n        });\n        return ar;\n    }\n}\n\ninterface IView {\n    construct();\n    refresh();\n}\n\nexport class $TypedCollection<T extends $Property> extends $Collection {\n\n    public find(key: any): T {\n        return this._db[key];\n    }\n\n    public toArray(): T[] {\n        const ar: T[] = [];\n        this.forEach((prop) => {\n            ar.push(prop);\n        });\n        return ar;\n    }\n}\n\nexport class ViewCollection extends $TypedCollection<View> {\n}\n\nexport abstract class $Object extends $Complex {\n\n    protected _props: $Property[] = [];\n\n    private _names = {};\n\n    public byName(n): $Property {\n        return this._names[n] as $Property;\n    }\n\n    public initProperties(): void {\n        let _v: $Property, _n: string;\n        for (_n in this) {\n            _v = this[_n];\n            if (_v instanceof $Property) {\n                // The only way I've figured out not to include private or protected members\n                // as properties is to identify them through their name. This means that they\n                // must all begin with an underline (\"_\") character. Maybe we'll find a better\n                // way...\n                if (_n[0] !== \"_\") {\n                    _v.className = _n;\n                    this._props.push(_v);\n                    this._names[_n] = _v;\n                }\n            }\n        }\n    }\n\n    public get count(): number {\n        return this._props.length;\n    }\n\n    public forEach(func: forEachFunc): void {\n        const count = this.count;\n        for (let i: number = 0; i < count; i++) {\n            func.call(this, this._props[i], i);\n        }\n    }\n\n    public toArray(): $Property[] {\n        return this._props;\n    }\n\n    protected constructor(owner?: $Complex) {\n        super(owner);\n\n        // Must be done after properties from all descendent classes have been added.\n        this.on(\"created\", (event) => {\n            this.initProperties();\n        });\n\n        this.on(\"propertyChanged\", function (event) {\n            this.refreshViews();\n            if (this.owner) {\n                this.owner.fire({ type: \"propertyChanged\", target: this });\n            }\n        });\n    }\n}\n\n// A stand-along document with its own unique ID\nexport abstract class $Persistent extends $Object {\n    protected constructor(owner?: $Complex) {\n        super(owner);\n        this.ID.value = idFactory.createID();\n        this.on(\"created\", function (event) {\n            this.ID.value = idFactory.createID();\n            // Todo: Fix this at some point. initProperties() decamelCases the caption to \"I D\"\n            this.ID.caption = \"ID\";\n        });\n    }\n\n    public ID = new $ID(this);\n\n    public get documentClass () {\n        return \"Persistent\";\n    }\n}\n\n// A larger group of logically related fields contained in a document. May be optional or mandatory\nexport abstract class $Section extends $Object {\n    protected constructor(owner?: $Complex) {\n        super(owner);\n    }\n\n    public get documentClass () {\n        return \"Section\";\n    }\n\n    // By default a section is mandatory\n    public get mandatory() {\n        return true;\n    }\n}\n\n// A small group of logically related mandatory fields (e.g. personal name) in a $Peristent object\nexport abstract class $Component extends $Object {\n\n    public get documentClass () {\n        return \"Component\";\n    }\n}\n\nexport type performFunc = (mem, i) => void;\n\nexport interface IAction {\n    perform: performFunc;\n    display: string;\n}\n\nexport interface IOption<T> {\n    value: T;\n    display: string;\n}\n\nexport interface IValue<T> {\n    value(): T;\n    value(T);\n    convert(v: any): T;\n    options: Array<IOption<T>>;\n}\n\nexport abstract class $Value extends $Property {\n\n    private _val: any;\n    private _calculating: boolean = false;\n    private _calculation;\n    private _initialValue;\n    private _options = undefined;\n\n    protected constructor(owner?: $Complex) {\n        super(owner);\n    }\n\n    public abstract convert(v: any): any;\n\n    public get displayValue() {\n        return this.value;\n    }\n\n    public abstract get dataType();\n\n    public get value(): any {\n\n        // Calculate if needed and go set to the current value\n        if (!(typeof this._calculation === \"undefined\") && !(this._calculating)) {\n            // Set the calc flag so we don't recurse on this\n            this._calculating = true;\n            this.value.set(this._calculation());\n            // Clear the calc flag\n            this._calculating = false;\n        } else if (typeof this._val === \"undefined\" && this._initialValue) {\n            // Do we need to do something with null values before returning? If so, set the value accordingly and return\n            // the new value.\n            // If no, has the nullVal parameter been passed with get()?\n            // Has this.initialValue function been defined?\n            this.value.set(this._initialValue());\n        }\n        return this._val;\n    }\n\n    public set value(v: any) {\n        let equal: boolean;\n        let event;\n        const pval = this.convert(v);\n\n        // Dates cannot be directly compared\n        if (pval instanceof (Date)) {\n            if (this._val instanceof (Date)) {\n                equal = (pval.getTime() === this._val.getTime());\n            } else {\n                equal = false;\n            }\n        } else {\n            equal = (pval === this._val);\n        }\n\n        if (!equal) {\n\n            // Fire the \"changing\" events. Any handler that sets _event.cancel to true will cancel the change.\n            // Handlers should never set _event.cancel to false unless the want to override other handlers.\n            if (this.owner) {\n                this.owner.fire(event = {\n                    type: \"propertyChanging\", target: this, current: this._val,\n                    proposed: pval, cancel: false\n                });\n            }\n            if (!event || !event.cancel) {\n                this.fire(event = {\n                    type: \"changing\", target: this, current: this._val, proposed: pval,\n                    cancel: false\n                });\n            }\n\n            // Make the change it the event wasn't canceled\n            if (!event.cancel) {\n                const _old = this._val;\n                this._val = event.proposed;\n                // Set the changed flag\n                // todo: At some point, we will want to add a logChange method to create an undo trail\n                // this.changed = true;\n                // Fire the \"changed\" events to any interested listener\n                this.fire({ type: \"changed\", target: this, previous: _old, current: this._val });\n                // Notify the owner that we've changed.\n                if (this.owner) {\n                    this.owner.fire({ type: \"propertyChanged\", target: this, previous: _old, current: this._val });\n                }\n            }\n\n            // Whether we accepted the proposed change or not, we might need to refresh a view that attempted\n            // the change, such as an input element, which would now hold the proposed, but no longer valid, value.\n\n            this.refreshViews();\n        }\n    }\n\n    public get options(): any {\n        return this._options;\n    }\n\n    public set options(val: any) {\n        this._options = val;\n    }\n}\n\nexport class $String extends $Value implements IValue<string> {\n\n    constructor(owner?: $Complex) {\n        super(owner);\n    }\n\n    public convert(v: any): string {\n        return v.toString();\n    }\n\n    public get dataType() {\n        return \"string\";\n    }\n\n}\n\nexport class $ID extends $String {\n    public get readOnly() {\n        return true;\n    }\n}\n\nexport class $Number extends $Value implements IValue<number> {\n\n    constructor(owner?: $Complex) {\n        super(owner);\n    }\n\n    public convert(v: any): number {\n        return Number(v);\n    }\n\n    public get dataType() {\n        return \"number\";\n    }\n}\n\nexport class $Date extends $Value implements IValue<Date> {\n\n    constructor(owner?: $Complex) {\n        super(owner);\n    }\n\n    public convert(v: any): Date {\n        if (v && typeof v !== \"object\") {\n            v = new Date(v);\n        }\n        return (v);\n    }\n\n    public get dataType() {\n        return \"date\";\n    }\n\n}\n\nexport class $Boolean extends $Value implements IValue<boolean> {\n\n    constructor(owner?: $Complex) {\n        super(owner);\n    }\n\n    public convert(v: any): boolean {\n        return Boolean(v);\n    }\n\n    public get dataType() {\n        return \"boolean\";\n    }\n\n}\n\nexport class $Any extends $Value implements IValue<any> {\n\n    constructor(owner?: $Complex) {\n        super(owner);\n    }\n\n    public convert(v: any): any {\n        return v;\n    }\n\n    public get dataType() {\n        return \"any\";\n    }\n\n}\n\nconst spaces: string = \"                                                             \";\n\nexport abstract class $Writer<T> {\n\n    protected _result: T;\n\n    public write(prop: $Property, params?: any): T {\n        this.initialize(prop, params);\n        this.writeProperties(prop, params);\n        this.finalize(prop, params);\n        return this._result;\n    }\n\n    protected initialize(prop: $Property, params?: any): void {\n    }\n\n    protected finalize(prop: $Property, params?: any): void {\n    }\n\n    protected writeProperties(prop: $Property, params?: any) {\n        if (prop.is($Collection)) {\n            this.writeCollection(prop as $Collection, params);\n        } else if (prop.is($Object)) {\n            this.writeObject(prop as $Object, params);\n        } else if (prop.is($Value)) {\n            this.writeValue(prop as $Property, params);\n        }\n    }\n\n    protected abstract writeCollection(prop: $Collection, params?: any);\n    protected abstract writeObject(prop: $Object, params?: any);\n    protected abstract writeValue(prop: $Property, params?: any);\n}\n\nexport class $TextWriter extends $Writer<string> {\n    protected _tab = 3;\n    protected _result: string;\n\n    constructor(tab?) {\n        super();\n        this._tab = tab ? tab : 3;\n    }\n\n    protected initialize(prop: $Property, params?: any): void {\n        this._result = \"\";\n    }\n\n    protected finalize(prop: $Property, params?: any): void {\n    }\n\n    protected writeProperties(prop: $Property, level: number): void {\n        const indent: string = spaces.substr(0, this._tab * level);\n        this._result += indent + prop.caption + \": \";\n        super.writeProperties(prop, level);\n    }\n\n    protected writeCollection(prop: $Collection, level) {\n        this._result += prop.displayValue + \"\\n\";\n        prop.forEach((p: $Property) => {\n            this.writeProperties(p, level + 1);\n        });\n    }\n\n    protected writeObject(prop: $Object, level) {\n        this._result += prop.displayValue + \"\\n\";\n        prop.forEach((p: $Property) => {\n            this.writeProperties(p, level + 1);\n        });\n    }\n\n    protected writeValue(prop: $Value, level) {\n        this._result += prop.value + \"\\n\";\n    }\n}\n\nexport class $JSONWriter extends $Writer<string> {\n\n    protected _result: string;\n\n    protected initialize(prop: $Property, params?: any): void {\n        this._result = \"\";\n    }\n\n    protected finalize(prop: $Property, params?: any): void {\n        this._result = \"{\" + this._result + \"}\";\n    }\n\n    protected writeProperties(prop: $Property): void {\n        this._result += '\"' + prop.className + '\": ';\n        super.writeProperties(prop);\n    }\n\n    protected writeCollection(prop: $Collection) {\n        this._result += \"[\";\n        prop.forEach((p: $Property, i: number) => {\n            if (i) {\n                this._result += \",\";\n            }\n            this._result += \"{\";\n            this.writeProperties(p);\n            this._result += \"}\";\n        });\n        this._result += \"]\";\n    }\n\n    protected writeObject(prop: $Object) {\n        this._result += \"{\";\n        prop.forEach((p: $Property, i: number) => {\n            if (i) {\n                this._result += \",\";\n            }\n            this.writeProperties(p);\n        });\n        this._result += \"}\";\n    }\n\n    protected writeValue(prop: $Value) {\n        if ((prop.is($String) || prop.is($Date))) {\n            this._result += '\"' + (prop.value) + '\"';\n        } else {\n            this._result += prop.value;\n        }\n    }\n}\n\nexport class $JSONReader {\n    public read(inst: $Property, source: any) {\n        let name: string;\n        for (name in source) {\n            this.readProperties(inst, source[name]);\n        }\n    }\n\n    public readProperties(parentInst: $Property, parentSource: any) {\n        let n1: string;\n        let childInst: $Property;\n        let childSource: any;\n        for (n1 in parentSource) {\n            childSource = parentSource[n1];\n            childInst = parentInst[n1];\n            // The if statement below only happens when the root object is a collection\n            // Unlike an object, a collection doesn't construct empty objects that will be\n            // filled upon reading. Instead it must construct each child object.\n            if (!childInst) {\n                childInst = parentInst;\n                childSource = parentSource;\n            }\n            if (childInst.is($Value)) {\n                // Simply assign the childSource value to the childInst, and we're finished\n                (childInst as $Value).value = childSource;\n            } else if (childInst.is($Object)) {\n                // Recursively read the child object's properties\n                this.readProperties(childInst, childSource);\n            } else if (childInst.is($Collection)) {\n                const collInst = childInst as $Collection;\n                let n2: string;\n                let memberInst: $Property;\n                // Iterate through the source array for the array members\n                childSource.forEach((memberSource) => {\n                    // Get the name of the member property. There will be only one iteration in this for-in loop.\n                    for (n2 in memberSource) {\n                        // We use the name memberSource object (n2) to create the memberInst object\n                        memberInst = collInst.createMember(n2);\n                        // Add it to the collection\n                        collInst.add(memberInst);\n                        // Recursively read the collection member's properties;\n                        this.readProperties(memberInst, memberSource[n2]);\n                    }\n                });\n            } else {\n                throw Error(\"Invalid Object \" + childSource);\n            }\n        }\n    }\n}\n\nexport class $App extends $Persistent {\n    public static create<T extends $Property>(c: { new(owner?: $Property): T }, owner?: $Property): T {\n        const obj: T = new c(owner);\n        obj.fire(\"created\");\n        return obj;\n    }\n\n    public constructor(owner?: $Complex) {\n        super(owner);\n    }\n}\n\nexport const app = new $App();\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/ivy.ts","export function decamelCase(s: string): string {\n    return s.replace(/([A-Z])/g, \" $1\").replace(/^./, function (str) {\n        return str.toUpperCase();\n    });\n}\n\n// Computes the age of this date in years.\nexport function age(dateNow: Date, dateThen: Date): number {\n    if (!dateThen) {\n        return undefined;\n    }\n    let _age = dateNow.getFullYear() - dateThen.getFullYear();\n    const m = dateNow.getMonth() - dateThen.getMonth();\n    if (m < 0 || (m === 0 && dateNow.getDate() < dateThen.getDate())) {\n        _age--;\n    }\n    return _age;\n}\n\nexport function foreachProp (that, props, func) {\n    let _name;\n    for (_name in props) {\n        if (props.hasOwnProperty(_name)) {\n            func.call(that, props[_name], _name);\n        }\n    }\n}\n\nexport const enableEvents = function (that) {\n\n    const registry = {};\n\n    that.fire = function (event) {\n        let array, func, handler, i;\n        const type = typeof event === \"string\" ? event : event.type;\n        if (registry.hasOwnProperty(type)) {\n            array = registry[type];\n            for (i = 0; i < array.length; i += 1) {\n                handler = array[i];\n                func = handler.method;\n                if (typeof func === \"string\") {\n                    func = this[func];\n                }\n                func.apply(this, handler.parameters || [event]);\n            }\n        }\n        return this;\n    };\n\n    that.on = function (type, method, parameters) {\n\n        const handler = { method: method, parameters: parameters };\n        if (registry.hasOwnProperty(type)) {\n            registry[type].push(handler);\n        } else {\n            registry[type] = [handler];\n        }\n        return this;\n    };\n\n    return that;\n};\n\nexport function padLeft (str, paddingValue) {\n    return String(paddingValue + str).slice(-paddingValue.length);\n}\n\n// Converts a date to a string that can be used by the Javascript date control\nexport function toInputStringfromDate (val: Date) {\n    const retVal: string = padLeft (val.getFullYear().toString(), \"0000\") + \"-\" +\n        padLeft ((val.getMonth() + 1).toString(), \"00\") + \"-\" +\n        padLeft(val.getDate().toString(), \"00\");\n    return retVal;\n}\n\nexport function toDateFromInputString(val: string) {\n    const y = Number(val.substr(0, 4));\n    const m = Number(val.substr(5, 2)) - 1;\n    const d = Number(val.substr(8, 2));\n    return new Date(y, m, d);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/utils.ts","import { Address, Contact, Email, Person, Persons, Phone } from \"./essets/entity\";\nimport { $App, $Boolean, $String, $TextWriter, $Value } from \"./lib/ivy\";\nimport { AccordionObjectView, Select, StringInput} from \"./lib/views\";\n\nfunction main() {\n    loadDoc();\n}\n\nfunction loadDoc() {\n    const xhttp = new XMLHttpRequest();\n    xhttp.onreadystatechange = function () {\n        if (this.readyState === 4 && this.status === 200) {\n            createPerson(this.responseText);\n        }\n    };\n    xhttp.open(\"GET\", \"http://localhost:8080/persons\", true);\n    xhttp.send();\n}\n\nfunction createPerson(json: string): void {\n    const frame = document.getElementById(\"frame\");\n    const objView = $App.create<AccordionObjectView>(AccordionObjectView);\n    const persons: Persons = $App.create<Persons>(Persons);\n    persons.fromJSON(json);\n    const person: Person = persons.toArray()[1];\n    person.views.add(objView);\n    objView.insert(frame);\n}\n\nmain();\n\n\n\n// WEBPACK FOOTER //\n// ./src/client.ts","import { $Any, $App, $Boolean, $Collection, $Complex, $Date, $ID } from \"./ivy\";\nimport { $Object, $Property, $String, $Value } from \"./ivy\";\nimport { foreachProp, toDateFromInputString, toInputStringfromDate } from \"./utils\";\n\nexport abstract class HtElement extends $Object {\n\n    private _oldDisplay: string;\n    private _elem;\n    protected _hidden: boolean = false;\n\n    constructor(owner?: $Complex) {\n        super(owner);\n    }\n\n    // Encapsulates the document model's appendChild\n    public appendChild(inst) {\n        // Since pro.elem is a protected variable, we don't have direct access to it via inst. We can,\n        // however, fire an accessRequest event, passing the name of the member of the protected variable\n        // (in this case \"elem\") which is returned in event.value.\n        this.elem.appendChild(inst.elem);\n    }\n\n    protected get elem() {\n        if (!this._elem) {\n            this._elem = this.createElement();\n        }\n        return this._elem;\n    }\n\n    public get classList() {\n        return this.elem.classList;\n    }\n\n    public focus() {\n        this.elem.focus();\n    }\n\n    // Insert passes the document element into which we want to insert our view. This is NOT an ivy object\n    // but a normal HTML document element, so we pass it the pointer to our document element.\n    public insert(parentElem, refresh?) {\n        parentElem.appendChild(this.elem);\n    }\n\n    public get hideable() {\n        return (this.elem.childNodes.length > 0);\n    }\n\n    public get hidden(): boolean {\n        return this._hidden;\n    }\n\n    public set hidden(val: boolean) {\n        if (val && (!this._hidden)) {\n            this._oldDisplay = this.elem.style.display;\n            this.elem.style.display = \"none\";\n            this._hidden = val;\n        } else if ((!val) && this._hidden) {\n            this._hidden = val;\n            this.elem.style.display = this._oldDisplay;\n        }\n    }\n\n    // Retrieve an attribute from the document element by its name\n    public getAttribute(attribName) {\n        return this.elem.getAttribute(attribName);\n    }\n\n    // Set an attribute on the document element by its name. val contains the value to set on the attribute\n    public setAttribute(attribName, val) {\n        this.elem.setAttribute(attribName, val);\n    }\n\n    // Get the current event handler for a specific event (passed as a string in eventName)\n    public getEventHandler(eventName) {\n        return this.elem[eventName];\n    }\n\n    public set onclick(func) {\n        this.elem.onclick = func;\n    }\n\n    // Get the current event handler for a specific event (passed as a string in eventName)\n    public setEventHandler(eventName, handler) {\n        this.elem[eventName] = handler;\n    }\n\n    public get style() {\n        return this.elem.style;\n    }\n\n    // Every HtElement must define the element type which it creates.\n    protected abstract createElement();\n}\n\n// An unanadorned div, the simplest particle in our atomic model\nexport class Div extends HtElement {\n\n    constructor(owner?: $Complex) {\n        super(owner);\n    }\n\n    public createElement() {\n        return document.createElement(\"div\");\n    }\n\n}\n\n// Any view which manages a simple value data type (string, number, bool, date/time) exposes get/set methods, which\n// manage access to the value associated with the element. For most document elements, this is simply the text value\n// of the innerHTML property. (See the ivc.input type below, which overrides get/set, which in its case, is an attribute\n// on the input document element\n\nexport abstract class ValueElement extends HtElement {\n\n    constructor(owner?: $Complex) {\n        super(owner);\n    }\n\n    public set value(val) {\n        const _elem = this.elem;\n        // Don't waste our time we've already set this value. We don't want to re-display what is already displayed.\n        if (_elem.innerHTML !== val) {\n            _elem.innerHTML = val;\n        }\n    }\n\n    public get value() {\n        return this.elem.innerHTML;\n    }\n\n}\n\nexport class Label extends ValueElement {\n\n    constructor(owner?: $Complex) {\n        super(owner);\n    }\n\n    protected createElement() {\n        return document.createElement(\"label\");\n    }\n}\n\n// A div class which functions as a text label, not as an outside wrapper for other document elements. It can be\n// substitued for the label class above.\n\nexport class DivLabel extends ValueElement {\n\n    constructor(owner?: $Complex) {\n        super(owner);\n    }\n\n    protected createElement() {\n        return document.createElement(\"div\");\n    }\n}\n\nexport class Icon extends ValueElement {\n\n    constructor(owner?: $Complex) {\n        super(owner);\n    }\n\n    protected createElement() {\n        return document.createElement(\"i\");\n    }\n}\n\nexport class Button extends ValueElement {\n\n    constructor(owner?: $Complex) {\n        super(owner);\n    }\n\n    public get value() {\n        return this.elem.value;\n    }\n\n    public set value(val) {\n        const _current = this.value;\n        if (_current !== val) {\n            this.elem.value = val;\n        }\n    }\n\n    public createElement() {\n        const _elem = document.createElement(\"input\");\n        _elem.type = \"button\";\n        _elem.onclick = () => {\n            this.fire({ type: \"clicked\", target: this });\n        };\n        return _elem;\n    }\n}\n\nexport class Select extends ValueElement {\n\n    constructor(owner?: $Complex) {\n        super(owner);\n        this.on(\"created\", () => {\n            //            this.initializeOptions({ usa: \"USA\", cr: \"Costa Rica\" });\n            //            this.initializeOptions([\"USA\", \"Costa Rica\" ]);\n            this.initializeOptions([{ value: \"usa\", display: \"USA\" }, { value: \"cr\", display: \"Costa Rica\" }]);\n            this._entryVal = this.value;\n        });\n    }\n\n    private _entryVal;\n\n    protected createElement() {\n        const _elem = document.createElement(\"select\") as HTMLSelectElement;\n\n        // Captures the onchange event from the input element and fires it in the context of this instance.\n        _elem.onchange = () => {\n            // Set the value of the select object from its encapsulated select element\n            // _that.set();\n            // Now fire the changed event. To the listener, it will look just like an input element\n            this.fire({ type: \"changed\", target: this, previous: this._entryVal, current: this.value });\n            // Save the new value to pass as previous in case they change again before leaving the field\n            this._entryVal = this.value;\n        };\n\n        _elem.onfocus = () => {\n            this._entryVal = this.value;\n        };\n\n        return _elem;\n    }\n\n    public addOption(txt, val) {\n        // Create the option element\n        const _option = document.createElement(\"option\") as HTMLOptionElement;\n        // Set the displayed option value\n        _option.text = txt;\n        // We can't store the value in the option.value attribute, since it's always written as a string.\n        // tslint:disable-next-line:no-string-literal\n        _option[\"val\"] = val;\n        this.elem.options.add(_option);\n    }\n\n    // Builds an option list from the this.options function.\n    protected initializeOptions(opts) {\n        this.clearOptions();\n        if (!Array.isArray(opts)) {\n            foreachProp(this, opts, function (opt, name) { this.addOption(opt, name); });\n        } else {\n            opts.forEach((opt) => {\n                if (typeof opt === \"string\") {\n                    this.addOption(opt, opt);\n                } else {\n                    this.addOption(opt.display, opt.value);\n                }\n            });\n        }\n    }\n\n    public get selectedIndex() {\n        return this.elem.selectedIndex;\n    }\n\n    public set selectedIndex(index) {\n        this.elem.selectedIndex = index;\n    }\n\n    public clearOptions() {\n        const _selectBox = this.elem;\n        for (let _i = _selectBox.length - 1; _i >= 0; _i--) {\n            _selectBox.remove(_i);\n        }\n    }\n\n    public options() {\n        return this.elem.options;\n    }\n\n    public get value(): ValueElement {\n        return this.options()[this.selectedIndex].val;\n    }\n\n    public set value(val: ValueElement) {\n        let _i;\n        const _options = this.options();\n        for (_i = 0; _i < _options.length; _i++) {\n            if (val === _options[_i].val) {\n                this.selectedIndex = _i;\n                return;\n            }\n        }\n    }\n}\n\n// An input class for the HTML input control\nexport abstract class Input extends ValueElement {\n\n    constructor(owner?: $Complex) {\n        super(owner);\n    }\n\n    private _entryVal;\n    private _exitVal;\n\n    protected abstract inputType();\n\n    public createElement() {\n        const _elem = document.createElement(\"input\") as HTMLInputElement;\n        _elem.setAttribute(\"type\", this.inputType());\n\n        if (this.is(CheckboxInput)) {\n            _elem.onclick = (ev) => {\n                this.fire({ type: \"changed\", target: this, previous: this._entryVal, current: _elem.checked });\n            };\n        } else {\n\n            // Captures the onblur event from the input element and fires it in the context of this instance.\n            _elem.onblur = (ev) => {\n                this.fire({ type: \"blurred\", event: ev });\n                this._exitVal = this.value;\n                if (this._exitVal !== this._entryVal) {\n                    this.fire({ type: \"changed\", target: this, previous: this._entryVal, current: this._exitVal });\n                }\n            };\n\n            _elem.onfocus = (ev) => {\n                this.fire({ type: \"focused\", event: ev });\n                this._entryVal = this.value;\n            };\n        }\n        return _elem;\n    }\n}\n\nexport class StringInput extends Input {\n\n    constructor(owner?: $Complex) {\n        super(owner);\n    }\n\n    public inputType() {\n        return \"string\";\n    }\n\n    get value() {\n        return this.elem.value;\n    }\n\n    set value(val) {\n        const _current = this.value;\n        if (_current !== val) {\n            this.elem.value = val;\n        }\n    }\n}\n\nexport class NumberInput extends Input {\n\n    constructor(owner?: $Complex) {\n        super(owner);\n    }\n\n    public inputType() {\n        return \"number\";\n    }\n\n    get value() {\n        return Number(this.elem.value);\n    }\n\n    set value(val) {\n        const _current = this.value;\n        if (_current !== Number(val)) {\n            this.elem.value = val;\n        }\n    }\n}\n\nexport class CheckboxInput extends Input {\n\n    constructor(owner?: $Complex) {\n        super(owner);\n    }\n\n    public inputType() {\n        return \"checkbox\";\n    }\n\n    get value() {\n        return Boolean(this.elem.checked);\n    }\n\n    set value(val) {\n        if (this.value !== Boolean(val)) {\n            this.elem.checked = val;\n        }\n    }\n}\n\nexport class DateInput extends Input {\n\n    constructor(owner?: $Complex) {\n        super(owner);\n    }\n\n    public inputType() {\n        return \"date\";\n    }\n\n    public get value() {\n        let _val = this.elem.value;\n        if (_val) {\n            _val = toDateFromInputString(_val);\n        } else {\n            _val = undefined;\n        }\n        return _val;\n    }\n\n    public set value(val) {\n\n        // First change any non-date argument into a date.\n        if (!(typeof val === \"object\")) {\n            val = new Date(val);\n        }\n        const _current = this.value;\n        if (val && (!_current || (_current.getTime() !== val.getTime()))) {\n            this.elem.value = toInputStringfromDate(val);\n        }\n    }\n}\n\n// A view manages the display of a single model. It is always contained within a div, which wraps the various\n// document elements. It is important to note that HtElements, such as ivv.label and ivv.input, are NOT\n// ivv.views, but instead are managed by view. Simply put, all views are HtElements, but not all HtElements\n// are views.\n\nexport abstract class View extends HtElement {\n\n    protected _model: $Property = undefined;\n    protected _shouldRefresh = true;\n    protected _level: number;\n\n    public get level() {\n        return this._level;\n    }\n\n    constructor(owner?: $Complex) {\n        super(owner);\n        this.on(\"created\", () => {\n            this.initializeView();\n        });\n    }\n\n    protected initializeView() {\n\n        if (this.owner) {\n            const cv: ComplexView = this.owner as ComplexView;\n            this._level = cv.level + 1;\n        } else {\n            this._level = 1;\n        }\n        this.classList.add(\"level-\" + this.level);\n    }\n\n    protected createElement() {\n        return document.createElement(\"div\");\n    }\n\n    public get model(): $Property {\n        return this._model;\n    }\n\n    public set model(mod: $Property) {\n        if (mod !== this._model) {\n            if (this._model) {\n                this._model.views.remove(this);\n            }\n            this.destroy();\n            this._model = mod;\n            this._model.views.add(this);\n            this.fire({ type: \"constructing\", target: this, model: mod });\n            this.construct();\n            this.fire({ type: \"constructed\", target: this, model: mod });\n        }\n    }\n\n    public insert(parentElem, refresh?) {\n        parentElem.appendChild(this.elem);\n        if (this.is(View)) {\n            if ((typeof refresh === \"undefined\") || refresh) {\n                this.refresh();\n            }\n        }\n    }\n\n    // this.construct() manages any necessary changes to the view's actual structure that are necessary as a result of\n    // the assignment of a new model property.\n    protected abstract construct();\n\n    public destroy() {\n        const _elem = this.elem;\n        while (_elem.firstChild) {\n            _elem.removeChild(_elem.firstChild);\n        }\n    }\n\n    // this.refresh() updates the data displayed by the view and its associated HtElements. It responds to changes\n    // in the data held by the existing model.\n    public refresh() {\n    }\n\n    public get shouldRefresh() {\n        return this._shouldRefresh;\n    }\n\n    public set shouldRefresh(val: boolean) {\n        this._shouldRefresh = val;\n    }\n}\n\nexport abstract class ControlView extends View {\n    public control: ValueElement;\n    public label: ValueElement;\n\n    protected construct() {\n        // Create a label for this view\n        this.label = this.createLabel();\n        this.label.classList.add(\"label\");\n        this.label.classList.add(\"level-\" + this.level);\n\n        // And an input control\n        this.control = this.createControl();\n        this.control.classList.add(\"control\");\n        this.control.classList.add(\"level-\" + this.level);\n    }\n\n    protected abstract createLabel(): ValueElement;\n    protected abstract createControl(): ValueElement;\n\n    public refresh() {\n        this.label.value = this.model.caption;\n        this.control.value = this.model.displayValue ? this.model.displayValue : \"\";\n    }\n\n}\n\nexport class DataPropertyView extends ControlView {\n\n    constructor(owner?: $Complex) {\n        super(owner);\n    }\n\n    public get model(): $Value {\n        return super.model as $Value;\n    }\n\n    public set model(mod: $Value) {\n        super.model = mod;\n    }\n\n    private typeTable = {\n        boolean: function (owner) { return $App.create<CheckboxInput>(CheckboxInput, owner); },\n        date: function (owner) { return $App.create<DateInput>(DateInput, owner); },\n        number: function (owner) { return $App.create<NumberInput>(NumberInput, owner); },\n        string: function (owner) { return $App.create<StringInput>(StringInput, owner); },\n    };\n\n    // Override in subclasses to created the desired label field\n    protected createLabel() {\n        const _inst = $App.create<DivLabel>(DivLabel, this);\n        _inst.className = \"label\";\n        this.appendChild(_inst);\n        return _inst;\n    }\n\n    // Override in subclasses to create the desired control.\n    protected createControl() {\n        let _inst;\n        const _model = this.model;\n        if (_model.readOnly) {\n            _inst = $App.create<DivLabel>(DivLabel, this);\n            _inst.classList.add(\"readOnly\");\n        } else if (_model.options) {\n            _inst = $App.create<Select>(Select, this);\n            _inst.initializeOptions(_model.options);\n            _inst.classList.add(\"select\");\n        } else {\n            _inst = this.typeTable[this.dataType](this);\n            _inst.classList.add(\"input\");\n        }\n        _inst.className = \"control\";\n        _inst.classList.add(this.dataType);\n        // This updates the model when the input control changes\n        _inst.on(\"changed\", (event) => {\n            this.model.value = event.current;\n        });\n\n        this.classList.add(\"property\");\n        this.appendChild(_inst);\n\n        return _inst;\n    }\n\n    get dataType() {\n        return (this.model as $Value).dataType;\n    }\n\n}\n\nexport class PropertyGroup extends ControlView {\n\n    constructor(owner?: $Complex) {\n        super(owner);\n        this.on(\"clicked\", (event) => {\n            alert(\"clicked\");\n        });\n    }\n\n    public properties: Div;\n\n    protected createLabel() {\n        const _inst = $App.create<DivLabel>(DivLabel, this);\n        _inst.className = \"label\";\n        _inst.classList.add(\"label\");\n        this.appendChild(_inst);\n        _inst.onclick = (ev) => {\n            this.properties.hidden = this.properties.hidden ? false : true;\n            ev.cancelBubble = true;\n        };\n        return _inst;\n    }\n\n    protected createControl() {\n        const _inst = $App.create<DivLabel>(DivLabel, this);\n        _inst.className = \"control\";\n        _inst.classList.add(\"control\");\n        this.appendChild(_inst);\n        _inst.onclick = (ev) => {\n            this.properties.hidden = this.properties.hidden ? false : true;\n            ev.cancelBubble = true;\n        };\n        return _inst;\n    }\n\n    protected createPropertyGroup(): Div {\n        const _inst = $App.create<Div>(Div, this);\n        _inst.className = \"properties\";\n        _inst.classList.add(\"properties\");\n        _inst.classList.add(\"level-\" + this.level);\n        this.appendChild(_inst);\n        return _inst;\n    }\n\n    public construct() {\n        super.construct();\n        this.properties = this.createPropertyGroup();\n    }\n}\n\nexport abstract class ComplexView extends PropertyGroup {\n\n    constructor(owner?) {\n        super(owner);\n    }\n\n    protected abstract createCollectionView(): ComplexView ;\n    protected abstract createObjectView(): ComplexView ;\n    protected createDataPropertyView(): DataPropertyView {\n        return $App.create<DataPropertyView>(DataPropertyView, this);\n    }\n\n    protected createView(prop: $Property): ControlView {\n        let view: ControlView;\n        if (prop.is($ID)) {\n            // Ignore $IDs for now\n        } else if (prop.is($Collection)) {\n            view = this.createCollectionView();\n        } else if (prop.is($Object)) {\n            view = this.createObjectView();\n        } else if (prop.is($Value)) {\n            view = this.createDataPropertyView();\n        }\n        return view;\n    }\n\n    public get model(): $Complex {\n        return super.model as $Object;\n    }\n\n    public set model(mod: $Complex) {\n        super.model = mod;\n    }\n\n    public construct() {\n        super.construct();\n        if (this.model) {\n            this.model.forEach((prop: $Property) => {\n                let view: ControlView;\n                view = this.createView(prop);\n                if (view) {\n                    view.model = prop;\n                    this.properties.appendChild(view);\n                }\n            });\n        }\n    }\n\n    public refresh() {\n        super.refresh();\n        if (this.shouldRefresh) {\n            this.model.forEach((prop: $Property) => {\n                prop.refreshViews();\n            });\n            //            this.shouldRefresh = false;\n        }\n    }\n\n}\n\nexport class AccordionView extends ComplexView {\n\n    public constructor(owner?: $Complex) {\n        super(owner);\n    }\n\n    protected createCollectionView(): AccordionCollectionView {\n        return $App.create<AccordionCollectionView>(AccordionCollectionView, this);\n    }\n\n    protected createObjectView(): AccordionObjectView {\n        return $App.create<AccordionObjectView>(AccordionObjectView, this);\n    }\n\n    public construct() {\n        super.construct();\n        if (this.level > 1) {\n            this.properties.hidden = true;\n        }\n    }\n}\n\nexport class AccordionObjectView extends AccordionView {\n    public constructor(owner?: $Complex) {\n        super(owner);\n        this.classList.add(\"object\");\n    }\n\n    public get model(): $Object {\n        return super.model as $Object;\n    }\n\n    public set model(mod: $Object) {\n        super.model = mod;\n    }\n\n}\n\nexport class AccordionCollectionView extends AccordionView {\n    public constructor(owner?: $Complex) {\n        super(owner);\n        this.classList.add(\"collection\");\n    }\n\n    public get model(): $Collection {\n        return super.model as $Collection;\n    }\n\n    public set model(mod: $Collection) {\n        super.model = mod as $Collection;\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/views.ts","import { $App, $Boolean, $Collection, $Complex, $Component, $Date, $Number, $Persistent, $String } from \"../lib/ivy\";\nimport { $Section, $TypedCollection } from \"../lib/ivy\";\nimport { age } from \"../lib/utils\";\n\nabstract class Name extends $Component {\n\n}\n\nexport class PersonalName extends Name {\n\n    constructor(owner?: $Complex) {\n        super(owner);\n    }\n\n    public first = new $String(this);\n    public middle = new $String(this);\n    public last = new $String(this);\n\n    get displayValue(): any {\n        return this.first.value + \" \" + this.middle.value + \" \" + this.last.value;\n    }\n}\n\nexport class GroupName extends Name {\n    constructor(owner?: $Complex) {\n        super(owner);\n    }\n    public primaryName = new $String(this);\n    public secondaryName = new $String(this);\n    get displayValue(): any {\n        return this.primaryName.value + this.secondaryName.value ? (\" \" + this.secondaryName.value) : \"\";\n    }\n}\n\nabstract class Info extends $Component {\n\n}\n\nexport class PersonalInfo extends Info {\n    constructor(owner?: $Complex) {\n        super(owner);\n        this.birthday.on(\"changed\", () => {\n            this.age.fire(\"evaluate\");\n        });\n        this.age.on(\"evaluate\", () => {\n            this.age.value = age(new Date(Date.now()), this.birthday.value);\n        });\n        this.gender.options = { f: \"Female\", m: \"Male\" };\n    }\n    public birthday = new $Date(this);\n    public age = new $Number(this);\n    public gender = new $String(this);\n\n    get displayValue(): any {\n        return this.gender.options[this.gender.value] + \", Age \" + this.age.value;\n    }\n}\n\nexport class GroupInfo extends Info {\n    constructor(owner?: $Complex) {\n        super(owner);\n        this.groupType.options = { team: \"Team\", company: \"Company\", vendor: \"Vendor\" };\n    }\n    public groupType = new $String(this);\n\n    get displayValue(): any {\n        return this.groupType.options[this.groupType.value];\n    }\n}\n\nexport class BasicInfo extends $Section {\n\n}\n\nexport class PersonBasicInfo extends BasicInfo {\n\n    constructor(owner?) {\n        super(owner);\n    }\n\n    get displayValue(): any {\n        return this.name.displayValue + \", \" + this.personalInfo.displayValue;\n    }\n    public name = $App.create<PersonalName>(PersonalName, this);\n    public personalInfo = $App.create<PersonalInfo>(PersonalInfo, this);\n}\n\nexport class GroupBasicInfo extends BasicInfo {\n    constructor(owner?) {\n        super(owner);\n    }\n\n    get displayValue(): any {\n        return this.name.displayValue + \", \" + this.groupInfo.displayValue;\n    }\n\n    public name = $App.create<GroupName>(GroupName, this);\n    public groupInfo = $App.create<GroupInfo>(GroupInfo, this);\n}\n\nexport abstract class Contact extends $Persistent {\n    constructor(owner?: $Complex) {\n        super(owner);\n        this.contactType.caption = \"Type\";\n    }\n\n    protected pref() {\n        return \" <i class='fg-green \" + (this.preferred.value ? \"fas \" : \"far \")  +  this.icon + \" fa-fw fa-sm'></i> \";\n    }\n\n    public preferred = new $Boolean(this);\n    public contactType = new $String(this);\n}\n\nexport class Email extends Contact {\n    constructor(owner?: $Complex) {\n        super(owner);\n        this.contactType.options = { p: \"Personal\", w: \"Work\" };\n    }\n\n    public get icon(): string {\n        return \"fa-envelope\";\n    }\n\n    public address = new $String(this);\n\n    get displayValue(): any {\n        return this.pref() + this.address.value +\n            \" (\" + this.contactType.options[this.contactType.value] + \")\";\n    }\n}\n\nexport class Phone extends Contact {\n    public constructor(owner?: $Complex) {\n        super(owner);\n        this.contactType.options = { h: \"Home\", w: \"Work\", m: \"Mobile\", f: \"Fax\" };\n    }\n\n    public get icon(): string {\n        return \"fa-phone\";\n    }\n\n    public number = new $String(this);\n\n    get displayValue(): any {\n        return this.pref() + this.number.value + \" (\" +\n            this.contactType.options[this.contactType.value] + \")\";\n    }\n}\n\nexport class Address extends Contact {\n\n    constructor(owner?: $Complex) {\n        super(owner);\n        this.contactType.options = { p: \"Primary\", s: \"Secondary\" };\n    }\n\n    public get icon(): string {\n        return \"fa-map-marker\";\n    }\n\n    get displayValue(): any {\n        return this.pref() + this.city.value + \", \" + this.state.value + \"  \" + this.zip.value + \" \" + \" (\" +\n            this.contactType.options[this.contactType.value] + \")\";\n    }\n    public street1 = new $String(this);\n    public street2 = new $String(this);\n    public city = new $String(this);\n    public state = new $String(this);\n    public zip = new $String(this);\n}\n\nexport class ContactCollection extends $TypedCollection<Contact> {\n    private _preferredContact: Contact;\n    public constructor(owner: $Complex) {\n        super(owner);\n        this.on(\"itemAdded\", (event) => {\n            // Allow only one preferred contact\n            if (event.target.preferred.value) {\n                if (!this._preferredContact) {\n                    this._preferredContact = event.target;\n                } else {\n                    event.target.preferred.value = false;\n                }\n            }\n            this.refreshViews();\n        });\n        this.on(\"propertyChanged\", (event) => {\n            // Did the preferred property change?\n            if (event.target.className === \"preferred\") {\n                // If it's changed to true, set the old last preferred contact value (_preferredContact) to false\n                if (event.current === true) {\n                    if (this._preferredContact) {\n                        this._preferredContact.preferred.value = false;\n                    }\n                    // Set the _preferredContact to the new Object\n                    this._preferredContact = event.target.owner;\n                } else {\n                    // If the current _preferredContact is now false, we have no preferred contact\n                    if (event.target.owner === this._preferredContact) {\n                        this._preferredContact = undefined;\n                    }\n                }\n                this.refreshViews();\n            }\n        });\n    }\n\n    // Expolse _preferred contact as readOnly just in case someone needs it...\n    public get preferredContact() {\n        return this._preferredContact;\n    }\n\n    public get displayValue(): string {\n        const disp: Contact = this._preferredContact ? this._preferredContact :\n            this.count ? this.toArray()[0] : undefined;\n        return disp ? disp.displayValue : super.displayValue;\n    }\n\n}\n\nexport class Emails extends ContactCollection {\n}\n\nexport class Phones extends ContactCollection {\n}\n\nexport class Addresses extends ContactCollection {\n}\n\nconst emailClasses = {\n    Email: {\n        className: \"Email\",\n        factory: function (owner) { return $App.create<Email>(Email, owner); }\n    }\n};\n\nconst phoneClasses = {\n    Phone: {\n        className: \"Phone\",\n        factory: function (owner) { return $App.create<Phone>(Phone, owner); }\n    }\n};\n\nconst addressClasses = {\n    Address: {\n        className: \"Address\",\n        factory: function (owner) { return $App.create<Address>(Address, owner); }\n    }\n};\n\nconst memberClasses = {\n    Member: {\n        className: \"Members\",\n        factory: function (owner) { return $App.create<Address>(Address, owner); }\n    }\n};\n\nconst personClasses = {\n    Person: {\n        className: \"Persons\",\n        factory: function (owner) { return $App.create<Person>(Person, owner); }\n    }\n};\n\nexport abstract class Entity extends $Persistent {\n\n    protected abstract createBasicInfo(): void;\n\n    protected createCollections(): void {\n        this.addresses = $App.create<Addresses>(Addresses, this);\n        this.phones = $App.create<Phones>(Phones, this);\n        this.emails = $App.create<Emails>(Emails, this);\n    }\n\n    constructor(owner?: $Complex) {\n        super(owner);\n        this.createBasicInfo();\n        this.createCollections();\n        this.on(\"created\", (event) => {\n            this.addresses.factories = addressClasses;\n            this.phones.factories = phoneClasses;\n            this.emails.factories = emailClasses;\n        });\n    }\n    public basicInfo: BasicInfo;\n    public addresses: Addresses;\n    public phones: Phones;\n    public emails: Emails;\n\n}\n\nexport class Person extends Entity {\n\n    constructor(owner?: $Complex) {\n        super(owner);\n    }\n\n    // Redeclare as subtype\n    public basicInfo: PersonBasicInfo;\n\n    protected createBasicInfo(): void {\n        this.basicInfo = $App.create<PersonBasicInfo>(PersonBasicInfo, this);\n    }\n\n    get displayValue(): any {\n        return this.basicInfo.name.displayValue;\n    }\n}\n\nexport class Persons extends $TypedCollection<Person> {\n    constructor(owner?: $Complex) {\n        super(owner);\n        this.factories = personClasses;\n    }\n}\n\nexport class Group extends Entity {\n\n    constructor(owner?: $Complex) {\n        super(owner);\n    }\n\n    // Redeclare as subtype\n    public basicInfo: GroupBasicInfo;\n\n    protected createBasicInfo(): void {\n        this.basicInfo = $App.create<GroupBasicInfo>(GroupBasicInfo, this);\n    }\n\n    get displayValue(): any {\n        return this.basicInfo.name.displayValue;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/essets/entity.ts"],"sourceRoot":""}